(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-zhibo-shangchuanshipin"],{"13a2":function(t,n,i){"use strict";i.r(n);var e=i("3256"),o=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(n,t,function(){return e[t]})}(a);n["default"]=o.a},3256:function(t,n,i){"use strict";var e=i("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e(i("ccdf")),a={data:function(){return{getFontsNums:0,getInfo:{thumb:"",videoUrl:""},show:!0,longitude:"",latitude:"",city:""}},methods:{getLocation:function(){var t=this;uni.getLocation({type:"wgs84",geocode:"true",success:function(n){console.log("当前位置的经度："+n.longitude),console.log("当前位置的纬度："+n.latitude),console.log("当前国家："+n.address),console.log("当前省份："+n.address.city),t.longitude=n.longitude,t.latitude=n.latitude,t.city=n.address.city}})},getNums:function(t){this.getFontsNums=t.detail.cursor,t.detail.cursor>=50&&uni.showToast({title:"最多输入50个字哦",icon:"none"})},uploadVideo:function(){var t=this;o.default.call("uploadVideo","0"),o.default.register("uploadVideoCallback",function(n){console.log(n),t.getInfo.thumb=JSON.parse(n).thumb,t.getInfo.videoUrl=JSON.parse(n).videoUrl,t.show=!1,t.show=!0})},sureSend:function(){this.request.setVideo({uid:uni.getStorageSync("id"),token:uni.getStorageSync("token"),title:"",thumb:this.getInfo.thumb,href:this.getInfo.videoUrl,lat:this.latitude,lng:this.longitude,city:this.city}).then(function(t){console.log(t),0===t.data.code?(uni.showToast({title:"上传成功",icon:"none"}),setTimeout(function(){uni.redirectTo({url:"/pages/zhibo/zhibo"})},2e3)):uni.showToast({title:t.data.msg,icon:"none"})})}}};n.default=a},5203:function(t,n,i){"use strict";i.r(n);var e=i("8967"),o=i("13a2");for(var a in o)"default"!==a&&function(t){i.d(n,t,function(){return o[t]})}(a);i("6264");var s=i("2877"),d=Object(s["a"])(o["default"],e["a"],e["b"],!1,null,"26f4ac52",null);n["default"]=d.exports},6264:function(t,n,i){"use strict";var e=i("7f66"),o=i.n(e);o.a},"7f66":function(t,n,i){var e=i("a78d");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=i("4f06").default;o("04b503ee",e,!0,{sourceMap:!1,shadowMode:!1})},8967:function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",[i("v-uni-view",{staticClass:"ms"},[i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"mLeft",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.uploadVideo.apply(void 0,arguments)}}},[t.show?i("v-uni-image",{attrs:{src:t.getInfo.thumb,mode:""}}):t._e()],1),i("v-uni-view",{staticClass:"mRight"},[i("v-uni-textarea",{attrs:{placeholder:"添加视频描述~",maxlength:"50"},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.getNums.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"mNums"},[t._v(t._s(t.getFontsNums)+"/50")])],1),i("v-uni-view",{staticClass:"sendBtn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.sureSend()}}},[t._v("确认发布")])],1)},o=[];i.d(n,"a",function(){return e}),i.d(n,"b",function(){return o})},a78d:function(t,n,i){n=t.exports=i("2350")(!1),n.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/*\n  ColorUi for uniApp  v2.1.6 | by 文晓港 2019-05-31 10:44:24\n  仅供学习交流，如作它用所承受的法律责任一概与作者无关  \n  \n  *使用ColorUi开发扩展与插件时，请注明基于ColorUi开发 \n  \n  （QQ交流群：240787041）\n*/\n/* ==================\n        初始化\n ==================== */uni-page-body[data-v-26f4ac52]{overflow:hidden}.ms[data-v-26f4ac52]{height:%?360?%;background-color:#fff;margin-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:relative}.ms .main[data-v-26f4ac52]{width:92%;height:%?300?%;display:-webkit-box;display:-webkit-flex;display:flex}.ms .main .mLeft[data-v-26f4ac52]{width:34%;height:%?300?%;background-color:#f0f0f0}.ms .main .mLeft uni-image[data-v-26f4ac52]{width:100%;height:100%}.ms .main .mRight[data-v-26f4ac52]{width:60%;height:%?300?%;margin-left:%?20?%}.ms .main .mRight uni-textarea[data-v-26f4ac52]{width:100%;height:100%;font-size:%?28?%}.ms .mNums[data-v-26f4ac52]{width:%?100?%;height:%?50?%;position:absolute;bottom:%?10?%;right:%?20?%;font-size:%?26?%;color:#666;line-height:%?50?%;text-align:center}.sendBtn[data-v-26f4ac52]{width:%?700?%;height:%?90?%;border-radius:%?45?%;background-color:#f15226;font-size:%?30?%;text-align:center;line-height:%?90?%;color:#fff;margin:%?200?% auto 0}',""])},ccdf:function(t,n,i){"use strict";var e=i("288e");i("28a5");var o=e(i("f499")),a={default:void 0,call:function(t,n,i){var e="";if("function"==typeof n&&(i=n,n={}),n={data:void 0===n?null:n},"function"==typeof i){var a="dscb"+window.dscb++;window[a]=i,n._dscbstub=a}return n=(0,o.default)(n),window._dsbridge?e=_dsbridge.call(t,n):(window._dswk||-1!=navigator.userAgent.indexOf("_dsbridge"))&&(e=prompt("_dsbridge="+t,n)),JSON.parse(e||"{}").data},register:function(t,n,i){i=i?window._dsaf:window._dsf,window._dsInit||(window._dsInit=!0,setTimeout(function(){a.call("_dsb.dsinit")},0)),"object"==typeof n?i._obs[t]=n:i[t]=n},registerAsyn:function(t,n){this.register(t,n,!0)},hasNativeMethod:function(t,n){return this.call("_dsb.hasNativeMethod",{name:t,type:n||"all"})},disableJavascriptDialogBlock:function(t){this.call("_dsb.disableJavascriptDialogBlock",{disable:!1!==t})}};!function(){if(!window._dsf){var t,n={_dsf:{_obs:{}},_dsaf:{_obs:{}},dscb:0,dsBridge:a,close:function(){a.call("_dsb.closePage")},_handleMessageFromNative:function(t){var n=JSON.parse(t.data),i={id:t.callbackId,complete:!0},e=this._dsf[t.method],o=this._dsaf[t.method],s=function(t,e){i.data=t.apply(e,n),a.call("_dsb.returnValue",i)},d=function(t,e){n.push(function(t,n){i.data=t,i.complete=!1!==n,a.call("_dsb.returnValue",i)}),t.apply(e,n)};if(e)s(e,this._dsf);else if(o)d(o,this._dsaf);else if(e=t.method.split("."),!(2>e.length)){t=e.pop();e=e.join("."),o=this._dsf._obs,o=o[e]||{};var c=o[t];c&&"function"==typeof c?s(c,o):(o=this._dsaf._obs,o=o[e]||{},(c=o[t])&&"function"==typeof c&&d(c,o))}}};for(t in n)window[t]=n[t];a.register("_hasJavascriptMethod",function(t,n){return n=t.split("."),2>n.length?!(!_dsf[n]&&!_dsaf[n]):(t=n.pop(),n=n.join("."),(n=_dsf._obs[n]||_dsaf._obs[n])&&!!n[t])})}}(),t.exports=a}}]);