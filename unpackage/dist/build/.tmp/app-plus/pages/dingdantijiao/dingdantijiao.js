(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/dingdantijiao/dingdantijiao"],{"2abf":function(i,a,o){"use strict";(function(i){o("acdd"),o("921b");t(o("66fd"));var a=t(o("cc1e"));function t(i){return i&&i.__esModule?i:{default:i}}i(a.default)}).call(this,o("6e42")["createPage"])},"4c04":function(i,a,o){},7091:function(i,a,o){"use strict";(function(i,t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(){return o.e("components/uni-popup/uni-popup").then(o.bind(null,"a662"))},e={components:{uniPopup:n},data:function(){return{pintuanyaoqing:!1,nowdate:"",arr:[],ass:"",current:!1,current1:!1,addressbox:"",addressbox_id:"",paytype:"",paydata:"",goods_types:"",goods_specs:"",goodsids:"",specids:"",ershouids:"",esdetial:""}},onLoad:function(a){this.id=a.id,this.goods_types=a.goods_type,this.goods_specs=a.goods_spec,this.goodsids=a.goodsid,this.specids=a.specid,this.ershouids=a.ershouid,console.log(i(this.id," at pages\\dingdantijiao\\dingdantijiao.vue:149")),console.log(i(this.goods_types," at pages\\dingdantijiao\\dingdantijiao.vue:151")),console.log(i(this.goods_specs," at pages\\dingdantijiao\\dingdantijiao.vue:152")),console.log(i(this.goodsids," at pages\\dingdantijiao\\dingdantijiao.vue:153")),console.log(i(this.specids," at pages\\dingdantijiao\\dingdantijiao.vue:154")),console.log(i(this.ershouids," at pages\\dingdantijiao\\dingdantijiao.vue:155")),1*this.goods_types===5?this.getshopdetial():1*this.goods_types===6?this.getershoudetial():this.getseckilldetial();var o,t,n=new Date,e="-",d=n.getFullYear(),s=n.getMonth()+1,g=(n.getDay(),n.getDate()),c=n.getHours()<10?"0"+n.getHours():n.getHours(),u=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),l=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds();s>=1&&s<=9&&(s="0"+s),g>=0&&g<=9&&(g="0"+g),o=d+e+s+e+g,t=c+":"+u+":"+l,this.nowdate=o+" "+t,console.log(i(this.nowdate," at pages\\dingdantijiao\\dingdantijiao.vue:183"))},onShow:function(){this.addressbox=t.getStorageSync("getaddress"),this.addressbox_id=t.getStorageSync("getaddress_id"),console.log(i(this.addressbox," at pages\\dingdantijiao\\dingdantijiao.vue:188")),console.log(i(this.addressbox_id," at pages\\dingdantijiao\\dingdantijiao.vue:189"))},methods:{centerorder:function(){var a=this;if(1*this.goods_types===5){if(""==this.addressbox_id)return void t.showToast({title:"请选择地址",icon:"none"});if(""==this.paytype)return void t.showToast({title:"请选择支付方式",icon:"none"});this.request.addOrder({token:t.getStorageSync("token"),ids:this.id,address_id:this.addressbox.id,pay_type:this.paytype}).then(function(o){console.log(i(o," at pages\\dingdantijiao\\dingdantijiao.vue:213")),console.log(i(o.data.ordersn," at pages\\dingdantijiao\\dingdantijiao.vue:214")),console.log(i(o.data.paydata," at pages\\dingdantijiao\\dingdantijiao.vue:215")),"alipay"==a.paytype?(console.log(i(11," at pages\\dingdantijiao\\dingdantijiao.vue:217")),a.alipaydetial(o.data.paydata.split("&amp;").join("&"))):"wechat"==a.paytype&&(console.log(i(22," at pages\\dingdantijiao\\dingdantijiao.vue:225")),console.log(i(o.data.paydata," at pages\\dingdantijiao\\dingdantijiao.vue:228")),t.requestPayment({provider:"wxpay",orderInfo:o.data.paydata,success:function(a){console.log(i(444," at pages\\dingdantijiao\\dingdantijiao.vue:236")),console.log(i("success:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:237"))},fail:function(a){console.log(i(555," at pages\\dingdantijiao\\dingdantijiao.vue:240")),console.log(i("fail:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:241"))}}),console.log(i(33," at pages\\dingdantijiao\\dingdantijiao.vue:244")))})}else if(1*this.goods_types===2){if(""==this.addressbox_id)return void t.showToast({title:"请选择地址",icon:"none"});if(""==this.paytype)return void t.showToast({title:"请选择支付方式",icon:"none"});this.request.seckillgobuy({token:t.getStorageSync("token"),goodsid:this.goodsids,specid:this.specids,address_id:this.addressbox.id,pay_type:this.paytype}).then(function(o){console.log(i(o," at pages\\dingdantijiao\\dingdantijiao.vue:269")),console.log(i(o.data.ordersn," at pages\\dingdantijiao\\dingdantijiao.vue:270")),console.log(i(o.data.paydata," at pages\\dingdantijiao\\dingdantijiao.vue:271")),t.showToast({title:o.msg,icon:"none"}),"alipay"==a.paytype?(console.log(i(11," at pages\\dingdantijiao\\dingdantijiao.vue:277")),a.alipaydetial(o.data.paydata.split("&amp;").join("&"))):"wechat"==a.paytype&&(console.log(i(22," at pages\\dingdantijiao\\dingdantijiao.vue:284")),console.log(i(o.data.paydata," at pages\\dingdantijiao\\dingdantijiao.vue:287")),t.requestPayment({provider:"wxpay",orderInfo:o.data.paydata,success:function(a){console.log(i(444," at pages\\dingdantijiao\\dingdantijiao.vue:295")),console.log(i("success:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:296"))},fail:function(a){console.log(i(555," at pages\\dingdantijiao\\dingdantijiao.vue:299")),console.log(i("fail:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:300"))}}),console.log(i(33," at pages\\dingdantijiao\\dingdantijiao.vue:303")))})}else if(1*this.goods_types===0){if(""==this.addressbox_id)return void t.showToast({title:"请选择地址",icon:"none"});if(""==this.paytype)return void t.showToast({title:"请选择支付方式",icon:"none"});this.request.gostrightbuy({token:t.getStorageSync("token"),id:this.id,spec:this.goods_specs,address_id:this.addressbox.id,pay_type:this.paytype,number:1}).then(function(o){console.log(i(o," at pages\\dingdantijiao\\dingdantijiao.vue:328")),console.log(i(o.data.ordersn," at pages\\dingdantijiao\\dingdantijiao.vue:329")),console.log(i(o.data.paydata," at pages\\dingdantijiao\\dingdantijiao.vue:330")),t.showToast({title:o.msg,icon:"none"}),"alipay"==a.paytype?(console.log(i(11," at pages\\dingdantijiao\\dingdantijiao.vue:336")),a.alipaydetial(o.data.paydata.split("&amp;").join("&"))):"wechat"==a.paytype&&(console.log(i(22," at pages\\dingdantijiao\\dingdantijiao.vue:343")),console.log(i(o.data.paydata," at pages\\dingdantijiao\\dingdantijiao.vue:346")),t.requestPayment({provider:"wxpay",orderInfo:o.data.paydata,success:function(a){console.log(i(444," at pages\\dingdantijiao\\dingdantijiao.vue:354")),console.log(i("success:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:355"))},fail:function(a){console.log(i(555," at pages\\dingdantijiao\\dingdantijiao.vue:358")),console.log(i("fail:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:359"))}}),console.log(i(33," at pages\\dingdantijiao\\dingdantijiao.vue:362")))})}else if(1*this.goods_types===6){if(""==this.addressbox_id)return void t.showToast({title:"请选择地址",icon:"none"});if(""==this.paytype)return void t.showToast({title:"请选择支付方式",icon:"none"});this.request.ershoucenter({token:t.getStorageSync("token"),goodsid:this.ershouids,address_id:this.addressbox.id,pay_type:this.paytype}).then(function(o){console.log(i(o," at pages\\dingdantijiao\\dingdantijiao.vue:385")),console.log(i(o.data.ordersn," at pages\\dingdantijiao\\dingdantijiao.vue:386")),console.log(i(o.data.paydata," at pages\\dingdantijiao\\dingdantijiao.vue:387")),t.showToast({title:o.msg,icon:"none"}),"alipay"==a.paytype?(console.log(i(11," at pages\\dingdantijiao\\dingdantijiao.vue:393")),a.alipaydetial(o.data.paydata.split("&amp;").join("&"))):"wechat"==a.paytype&&(console.log(i(22," at pages\\dingdantijiao\\dingdantijiao.vue:400")),console.log(i(o.data.paydata," at pages\\dingdantijiao\\dingdantijiao.vue:403")),t.requestPayment({provider:"wxpay",orderInfo:o.data.paydata,success:function(a){console.log(i(444," at pages\\dingdantijiao\\dingdantijiao.vue:411")),console.log(i("success:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:412"))},fail:function(a){console.log(i(555," at pages\\dingdantijiao\\dingdantijiao.vue:415")),console.log(i("fail:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:416"))}}),console.log(i(33," at pages\\dingdantijiao\\dingdantijiao.vue:419")))})}},wxPay:function(a){console.log(i(a," at pages\\dingdantijiao\\dingdantijiao.vue:426"))},alipaydetial:function(a){console.log(i(a," at pages\\dingdantijiao\\dingdantijiao.vue:437")),t.requestPayment({provider:"alipay",orderInfo:a,success:function(a){console.log(i(a," at pages\\dingdantijiao\\dingdantijiao.vue:448")),console.log(i("成功"," at pages\\dingdantijiao\\dingdantijiao.vue:449")),console.log(i("success:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:450"))},fail:function(a){console.log(i(a," at pages\\dingdantijiao\\dingdantijiao.vue:453")),console.log(i("失败"," at pages\\dingdantijiao\\dingdantijiao.vue:454")),console.log(i("fail:"+JSON.stringify(a)," at pages\\dingdantijiao\\dingdantijiao.vue:455"))}})},chooseaddress:function(){t.navigateTo({url:"../shouhuodizhi/shouhuodizhi?status=1"})},changebinggo:function(a){return 1==this.current?this.paytype="wechat":this.paytype="alipay",console.log(i(this.paytype," at pages\\dingdantijiao\\dingdantijiao.vue:472")),1==this.current?(this.current=!1,void(this.current1=!0)):(this.current=!0,void(this.current1=!1))},radioChange:function(a){var o=a.target.value;console.log(i(o," at pages\\dingdantijiao\\dingdantijiao.vue:502"))},changeCount:function(a,o){console.log(i(a," at pages\\dingdantijiao\\dingdantijiao.vue:506")),o>0?a.number_goods++:(a.number_goods--,a.number_goods<1&&(a.number_goods=1)),this.request.changeshopcar({token:t.getStorageSync("token"),goodsid:a.goods_id,spec:a.goods_spec,number:a.number_goods}).then(function(a){console.log(i(a," at pages\\dingdantijiao\\dingdantijiao.vue:521"))})},getshopdetial:function(){var a=this;this.request.ordershopcar({token:t.getStorageSync("token"),ids:this.id}).then(function(o){console.log(i(o," at pages\\dingdantijiao\\dingdantijiao.vue:529")),console.log(i(o.data," at pages\\dingdantijiao\\dingdantijiao.vue:530")),console.log(i(o.data.cartList," at pages\\dingdantijiao\\dingdantijiao.vue:531")),a.arr=o.data.cartList})},getseckilldetial:function(){var a=this;this.request.seckillbuy({token:t.getStorageSync("token"),goods_type:this.goods_types,goods_id:this.id,goods_spec:this.goods_specs,number:1}).then(function(o){console.log(i(o," at pages\\dingdantijiao\\dingdantijiao.vue:543")),a.ass=o.data.cartList})},getershoudetial:function(){var a=this;this.request.ershoudetial({token:t.getStorageSync("token"),id:this.ershouids}).then(function(o){console.log(i(o," at pages\\dingdantijiao\\dingdantijiao.vue:552")),a.esdetial=o.data})},togglePopup:function(i,a){this.type=i,"dibu"===a&&(this.pintuanyaoqing=!0)},cancel:function(i){"quxiao"===i&&(this.pintuanyaoqing=!1)}}};a.default=e}).call(this,o("0de9")["default"],o("6e42")["default"])},"9e75":function(i,a,o){"use strict";var t=function(){var i=this,a=i.$createElement,t=(i._self._c,o("743c")),n=o("b4bc"),e=o("743c"),d=o("b4bc");i.$mp.data=Object.assign({},{$root:{m0:t,m1:n,m2:e,m3:d}})},n=[];o.d(a,"a",function(){return t}),o.d(a,"b",function(){return n})},aaf1:function(i,a,o){"use strict";var t=o("4c04"),n=o.n(t);n.a},cc1e:function(i,a,o){"use strict";o.r(a);var t=o("9e75"),n=o("db84");for(var e in n)"default"!==e&&function(i){o.d(a,i,function(){return n[i]})}(e);o("aaf1");var d=o("2877"),s=Object(d["a"])(n["default"],t["a"],t["b"],!1,null,null,null);a["default"]=s.exports},db84:function(i,a,o){"use strict";o.r(a);var t=o("7091"),n=o.n(t);for(var e in t)"default"!==e&&function(i){o.d(a,i,function(){return t[i]})}(e);a["default"]=n.a}},[["2abf","common/runtime","common/vendor"]]]);