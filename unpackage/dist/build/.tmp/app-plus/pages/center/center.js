(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/center/center"],{"05b9":function(e,t,n){"use strict";var o=n("1ce0"),i=n.n(o);i.a},"1ce0":function(e,t,n){},2608:function(e,t,n){"use strict";(function(e){n("acdd"),n("921b");o(n("66fd"));var t=o(n("f61d"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"835f":function(e,t,n){"use strict";n.r(t);var o=n("a9d2"),i=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);t["default"]=i.a},a9d2:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"a662"))},s=function(){return Promise.all([n.e("common/vendor"),n.e("components/w-picker/w-picker")]).then(n.bind(null,"0290"))},a={components:{wPicker:s,uniPopup:i},data:function(){return{userinfo:e.getStorageSync("userInformation"),userHeader:"",show:!1,type:"",bottomData:[{icon:"../../static/center/iocn-20-nan.png",text:"男"},{icon:"../../static/center/iocn-20-nv_30.png",text:"女"}],album:[{icon:"../../static/kefu/iocn-25-xc.png",text:"相机拍摄",type:"camera"},{icon:"../../static/kefu/iocn-25-xj.png",text:"相册上传",type:"album"}],tabIndex:0,type1:"",txshow:!1,xingbie:"女",mode:"range",defaultVal:[0,0,0,0,0,0,0],name:"",tabList:[{mode:"region",name:"江苏徐州"}]}},onShow:function(){var t=e.getStorageSync("changename");e.setStorageSync("changename",0),1==t&&(this.userinfo=e.getStorageSync("userInformation"),this.Modifyuser())},onLoad:function(){this.judgesex(),console.log(o(this.userinfo," at pages\\center\\center.vue:127"))},methods:{judgesex:function(){2==this.userinfo.sex?this.xingbie="男":this.xingbie="女"},toggleTab:function(e,t){this.tabIndex=t,this.mode=e.mode,this.defaultVal=e.value,this.$refs[e.mode].show()},togglesex:function(e,t){this.type1=e,this.$refs[t].open()},cancelsex:function(e){this.$refs[e].close()},changesex:function(e){console.log(o(e.show," at pages\\center\\center.vue:151"))},tapsex:function(e){this.userinfo.sex=0==e?2:1,this.judgesex(),this.cancelsex("share"),this.Modifyuser()},onConfirm:function(e){console.log(o(e," at pages\\center\\center.vue:164")),this.userinfo.city=e.result,this.Modifyuser()},nicheng:function(){e.navigateTo({url:"../changename/changename"})},chooseimg:function(t){var n=this,i=t;e.chooseImage({sourceType:[i],success:function(t){t.tempFiles[0];var i=t.tempFilePaths;n.imgouter=i[0],e.showToast({title:"上传中",icon:"none"}),e.uploadFile({url:"http://zsybshop.yanggod.com/api/merchant/uploadQnImg",filePath:i[0],name:"file",formData:{file:n.imgouter},success:function(t){console.log(o(t," at pages\\center\\center.vue:201"));var i=JSON.parse(t.data);n.userinfo.avatar=i.data.img_url,e.hideToast(),e.showToast({title:i.msg,icon:"none"}),n.$refs.album.close(),n.Modifyuser()}})}})},Modifyuser:function(){var t=this;console.log(o("确定"," at pages\\center\\center.vue:217"));var n={avatar:this.userinfo.avatar,user_nicename:this.userinfo.user_nicename,sex:this.userinfo.sex,city:this.userinfo.city},i=JSON.stringify(n);this.request.UpdateFields({uid:this.userinfo.id,token:e.getStorageSync("token"),fields:i}).then(function(n){console.log(o(n," at pages\\center\\center.vue:225")),0==n.data.code?(e.hideToast(),e.showToast({title:"用户信息修改成功",icon:"none"}),e.setStorageSync("userInformation",t.userinfo)):(e.hideToast(),e.showToast({title:"用户信息修改失败",icon:"none"}))})},Modifyavatar:function(e){},showPhoto:function(){var t=this,n=e.requireNativePlugin("PP-PHOTO");n.show({},function(e){200==e.code&&t.saveImgs(e.data)})},togglePopup:function(e,t){this.type=e,this.$refs[t].open()},cancel:function(){this.$refs.album.close()}}};t.default=a}).call(this,n("6e42")["default"],n("0de9")["default"])},dd8c:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},f61d:function(e,t,n){"use strict";n.r(t);var o=n("dd8c"),i=n("835f");for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);n("05b9");var a=n("2877"),c=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"d069d9b8",null);t["default"]=c.exports}},[["2608","common/runtime","common/vendor"]]]);